<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3.1 Optionals | MAD9137</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" type="image/png" href="/f2022/assets/favicon.png">
    <meta name="description" content="iOS App Development">
    
    <link rel="preload" href="/f2022/assets/css/0.styles.fac2732d.css" as="style"><link rel="preload" href="/f2022/assets/js/app.d25dfab8.js" as="script"><link rel="preload" href="/f2022/assets/js/2.1c3a28c6.js" as="script"><link rel="preload" href="/f2022/assets/js/23.73b91711.js" as="script"><link rel="preload" href="/f2022/assets/js/7.21de6641.js" as="script"><link rel="prefetch" href="/f2022/assets/js/10.5c36035b.js"><link rel="prefetch" href="/f2022/assets/js/11.9a647ea1.js"><link rel="prefetch" href="/f2022/assets/js/12.d52bfc42.js"><link rel="prefetch" href="/f2022/assets/js/13.e26c0c80.js"><link rel="prefetch" href="/f2022/assets/js/14.128b532a.js"><link rel="prefetch" href="/f2022/assets/js/15.e85f60e8.js"><link rel="prefetch" href="/f2022/assets/js/16.50d138b8.js"><link rel="prefetch" href="/f2022/assets/js/17.994cce27.js"><link rel="prefetch" href="/f2022/assets/js/18.8e95562d.js"><link rel="prefetch" href="/f2022/assets/js/19.8483836f.js"><link rel="prefetch" href="/f2022/assets/js/20.c1b7b53f.js"><link rel="prefetch" href="/f2022/assets/js/21.21bf123f.js"><link rel="prefetch" href="/f2022/assets/js/22.2fec2c26.js"><link rel="prefetch" href="/f2022/assets/js/24.e76bdfb2.js"><link rel="prefetch" href="/f2022/assets/js/25.6e30d410.js"><link rel="prefetch" href="/f2022/assets/js/26.81550470.js"><link rel="prefetch" href="/f2022/assets/js/27.b5169f39.js"><link rel="prefetch" href="/f2022/assets/js/28.35b535eb.js"><link rel="prefetch" href="/f2022/assets/js/29.76e399b7.js"><link rel="prefetch" href="/f2022/assets/js/3.8b4365b7.js"><link rel="prefetch" href="/f2022/assets/js/30.a376cf2e.js"><link rel="prefetch" href="/f2022/assets/js/31.2705a044.js"><link rel="prefetch" href="/f2022/assets/js/32.8e4346c5.js"><link rel="prefetch" href="/f2022/assets/js/33.7378decd.js"><link rel="prefetch" href="/f2022/assets/js/34.ceeb9d3f.js"><link rel="prefetch" href="/f2022/assets/js/35.28793e2c.js"><link rel="prefetch" href="/f2022/assets/js/36.3cf23553.js"><link rel="prefetch" href="/f2022/assets/js/37.ea9c9d5f.js"><link rel="prefetch" href="/f2022/assets/js/38.95287ec9.js"><link rel="prefetch" href="/f2022/assets/js/39.834c6782.js"><link rel="prefetch" href="/f2022/assets/js/4.0089c19f.js"><link rel="prefetch" href="/f2022/assets/js/40.138cf272.js"><link rel="prefetch" href="/f2022/assets/js/41.0c6b8356.js"><link rel="prefetch" href="/f2022/assets/js/42.1c03e36d.js"><link rel="prefetch" href="/f2022/assets/js/43.7f445885.js"><link rel="prefetch" href="/f2022/assets/js/44.7feed846.js"><link rel="prefetch" href="/f2022/assets/js/45.f3f9da87.js"><link rel="prefetch" href="/f2022/assets/js/46.8f6e2df1.js"><link rel="prefetch" href="/f2022/assets/js/47.291d6573.js"><link rel="prefetch" href="/f2022/assets/js/48.4570afb0.js"><link rel="prefetch" href="/f2022/assets/js/49.4a877a6b.js"><link rel="prefetch" href="/f2022/assets/js/5.e99aff58.js"><link rel="prefetch" href="/f2022/assets/js/50.892c56cb.js"><link rel="prefetch" href="/f2022/assets/js/51.ea26c074.js"><link rel="prefetch" href="/f2022/assets/js/52.146cb0d1.js"><link rel="prefetch" href="/f2022/assets/js/53.e7aa543a.js"><link rel="prefetch" href="/f2022/assets/js/54.648d020a.js"><link rel="prefetch" href="/f2022/assets/js/55.d65e8473.js"><link rel="prefetch" href="/f2022/assets/js/56.e8c8ea37.js"><link rel="prefetch" href="/f2022/assets/js/57.f6ec483f.js"><link rel="prefetch" href="/f2022/assets/js/58.a7ea688b.js"><link rel="prefetch" href="/f2022/assets/js/59.c2d0c439.js"><link rel="prefetch" href="/f2022/assets/js/6.3bec8356.js"><link rel="prefetch" href="/f2022/assets/js/60.1663fb3d.js"><link rel="prefetch" href="/f2022/assets/js/61.4a68213b.js"><link rel="prefetch" href="/f2022/assets/js/62.289aced8.js"><link rel="prefetch" href="/f2022/assets/js/63.ec08601d.js"><link rel="prefetch" href="/f2022/assets/js/64.0d10a24e.js"><link rel="prefetch" href="/f2022/assets/js/65.3a263b4b.js"><link rel="prefetch" href="/f2022/assets/js/66.0c8413c7.js"><link rel="prefetch" href="/f2022/assets/js/67.27d84e3b.js"><link rel="prefetch" href="/f2022/assets/js/68.c1a45cb3.js"><link rel="prefetch" href="/f2022/assets/js/69.7db1a043.js"><link rel="prefetch" href="/f2022/assets/js/70.203701ad.js"><link rel="prefetch" href="/f2022/assets/js/71.0be60c3e.js"><link rel="prefetch" href="/f2022/assets/js/72.1fdbe8a8.js"><link rel="prefetch" href="/f2022/assets/js/73.5e26f6cc.js"><link rel="prefetch" href="/f2022/assets/js/74.b834fff4.js"><link rel="prefetch" href="/f2022/assets/js/75.e2f58a37.js"><link rel="prefetch" href="/f2022/assets/js/76.58225f82.js"><link rel="prefetch" href="/f2022/assets/js/77.f5e3f12e.js"><link rel="prefetch" href="/f2022/assets/js/78.bb2ed4a8.js"><link rel="prefetch" href="/f2022/assets/js/79.de754224.js"><link rel="prefetch" href="/f2022/assets/js/8.a94784bf.js"><link rel="prefetch" href="/f2022/assets/js/80.71220e69.js"><link rel="prefetch" href="/f2022/assets/js/81.aad3b0fe.js"><link rel="prefetch" href="/f2022/assets/js/82.c477314b.js"><link rel="prefetch" href="/f2022/assets/js/83.c5e6f66a.js"><link rel="prefetch" href="/f2022/assets/js/84.400a152d.js"><link rel="prefetch" href="/f2022/assets/js/85.05f98441.js"><link rel="prefetch" href="/f2022/assets/js/86.dbdb1103.js"><link rel="prefetch" href="/f2022/assets/js/87.c76d0422.js"><link rel="prefetch" href="/f2022/assets/js/88.d76af53a.js"><link rel="prefetch" href="/f2022/assets/js/89.d4a60b5b.js"><link rel="prefetch" href="/f2022/assets/js/9.8f3ff045.js"><link rel="prefetch" href="/f2022/assets/js/90.912eb0df.js"><link rel="prefetch" href="/f2022/assets/js/91.fdd76386.js">
    <link rel="stylesheet" href="/f2022/assets/css/0.styles.fac2732d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/f2022/" class="home-link router-link-active"><!----> <span class="site-name">MAD9137</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/f2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/f2022/modules/week-14/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/f2022/assessments/" class="nav-link">
  Assessments
</a></div><div class="nav-item"><a href="/f2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/f2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/f2022/modules/week-14/" class="nav-link">
  Modules
</a></div><div class="nav-item"><a href="/f2022/assessments/" class="nav-link">
  Assessments
</a></div><div class="nav-item"><a href="/f2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/f2022/modules/introduction/" class="sidebar-heading clickable"><span>Week 1</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2022/modules/swift-fundamentals-1/" class="sidebar-heading clickable"><span>Week 2</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2022/modules/fundamentals-2/" class="sidebar-heading clickable router-link-active open"><span>Week 3</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/f2022/modules/fundamentals-2/optionals.html" aria-current="page" class="active sidebar-link">3.1 Optionals</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#declaration" class="sidebar-link">Declaration</a></li><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#safely-accessing-an-optional" class="sidebar-link">Safely Accessing an Optional</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#forced-unwrapping" class="sidebar-link">Forced Unwrapping</a></li><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#optional-binding" class="sidebar-link">Optional Binding</a></li><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#implicitly-unwrapped-optionals" class="sidebar-link">Implicitly Unwrapped Optionals</a></li><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#guard" class="sidebar-link">Guard</a></li><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#nil-coalescing-operator" class="sidebar-link">Nil-coalescing Operator</a></li></ul></li><li class="sidebar-sub-header"><a href="/f2022/modules/fundamentals-2/optionals.html#see-also" class="sidebar-link">See Also</a></li></ul></li><li><a href="/f2022/modules/fundamentals-2/functions.html" class="sidebar-link">3.2 Functions</a></li><li><a href="/f2022/modules/fundamentals-2/enums.html" class="sidebar-link">3.3 Enumerations</a></li><li><a href="/f2022/modules/fundamentals-2/structs-classes.html" class="sidebar-link">3.4 Structures and Classes</a></li><li><a href="/f2022/modules/fundamentals-2/protocols.html" class="sidebar-link">3.5 Protocols</a></li><li><a href="/f2022/modules/fundamentals-2/closures.html" class="sidebar-link">3.6 Closure Expressions</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2022/modules/week-4/" class="sidebar-heading clickable"><span>Week 4</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Week 5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Week 6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2022/modules/week-7/summary" class="sidebar-heading clickable"><span>Week 7</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/f2022/modules/week-8/summary.html" class="sidebar-link">Week 8</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2022/modules/week-9/summary" class="sidebar-heading clickable"><span>Week 9</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2022/modules/week-10/" class="sidebar-heading clickable"><span>Week 10</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/f2022/modules/week-11/" class="sidebar-heading clickable"><span>Week 11</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/f2022/modules/week-12/" class="sidebar-link">Week 12</a></li><li><a href="/f2022/modules/week-13/" class="sidebar-link">Week 13</a></li><li><a href="/f2022/modules/week-14/" class="sidebar-link">Week 14</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>Optionals are used in situations where a value may be absent. An optional type either holds a value or nothing (nil) however, accessing an optional with a nil value will cause an error so special handling is required to safely access an optional's payload. In Swift, this has the advantage of allowing the compiler to detect possible exception errors at compile time, which reduces the occurrence of these errors at run time.</p> <p>Exception errors commonly occur when trying to access a property or call a function on a variable which is set to nil. Swift prevents property access and method calls on optional constants and variables preventing many Exceptions errors. The following code is allowed because Swift knows that the variable cheese can never be nil:</p> <div class="language-Swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">var</span> cheese <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Cheddar&quot;</span></span>
<span class="token keyword">let</span> length <span class="token operator">=</span> cheese<span class="token punctuation">.</span>count <span class="token comment">// safe as count cannot be nil</span>
<span class="token keyword">let</span> uppercaseCheese <span class="token operator">=</span> cheese<span class="token punctuation">.</span><span class="token function">uppercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// safe as cheese cannot be nil</span>
<span class="token function">print</span><span class="token punctuation">(</span>uppercaseCheese<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>However the same code fails when using an optional String variable:</p> <div class="language-Swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">var</span> cheese<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Cheddar&quot;</span></span>
<span class="token keyword">let</span> length <span class="token operator">=</span> cheese<span class="token punctuation">.</span>count <span class="token comment">// This produces a compilation Error</span>
<span class="token keyword">let</span> uppercaseCheese <span class="token operator">=</span> cheese<span class="token punctuation">.</span><span class="token function">uppercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// This produces a compilation Error</span>
<span class="token function">print</span><span class="token punctuation">(</span>uppercaseCheese<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>But the following code blocks will work. Can you spot the differences?</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Force unwrapping an optional</span>

<span class="token keyword">var</span> cheese<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Cheddar&quot;</span></span>
<span class="token keyword">let</span> length <span class="token operator">=</span> cheese<span class="token operator">!</span><span class="token punctuation">.</span>count 
<span class="token keyword">let</span> uppercaseCheese <span class="token operator">=</span> cheese<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">uppercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token function">print</span><span class="token punctuation">(</span>uppercaseCheese<span class="token punctuation">)</span>

<span class="token comment">// Implicitly unwrapped optional</span>
<span class="token keyword">var</span> cheese<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Cheddar&quot;</span></span>
<span class="token keyword">let</span> length <span class="token operator">=</span> cheese<span class="token punctuation">.</span>count 
<span class="token keyword">let</span> uppercaseCheese <span class="token operator">=</span> cheese<span class="token punctuation">.</span><span class="token function">uppercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token function">print</span><span class="token punctuation">(</span>uppercaseCheese<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>The Swift compiler knows, at compile time, which constants and variables can contain nil. This allows Swift to detect and prevent statements that may result in a nil value.</p> <p><strong>Considerations:</strong></p> <ul><li>All variables in Swift are non-nil-able by default</li> <li>Optionals are declared by appending <code>?</code> to the type annotation</li> <li>If you attempt to assign a nil value to a standard Swift variable the compiler will throw an error</li></ul> <h2 id="declaration"><a href="#declaration" class="header-anchor">#</a> Declaration</h2> <div class="language-Swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Assigning nil to a non-optional </span>
<span class="token keyword">var</span> cheese <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Cheddar&quot;</span></span>

<span class="token comment">// This produces a compilation Error</span>
cheese <span class="token operator">=</span> <span class="token nil constant">nil</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>To support nil values in constants and variables Swift requires you to declare them as optional (they are allowed to contain nil) when they are created.</p> <div class="language-Swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// an optional String</span>
<span class="token keyword">var</span> nilableCheese<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Cheddar&quot;</span></span> 

<span class="token comment">// by default will initialize with a nil value</span>
<span class="token keyword">var</span> nilableCheese<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>

<span class="token comment">// this is allowed because nilableCheese is </span>
<span class="token comment">// an optional which is allowed to contain nil</span>
nilableCheese <span class="token operator">=</span> <span class="token nil constant">nil</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Note:</strong> An optional can be nil or have a legal value for its type</p> <h2 id="safely-accessing-an-optional"><a href="#safely-accessing-an-optional" class="header-anchor">#</a> Safely Accessing an Optional</h2> <p>An optional needs to be unwrapped to safely use its value. Generally, this means employing a method to first check for the presence of a payload and if so, accessing its value.</p> <h3 id="forced-unwrapping"><a href="#forced-unwrapping" class="header-anchor">#</a> Forced Unwrapping</h3> <p>Use an if statement to check if an optional contains a value and access the value using forced unwrapping by appending <code>!</code> to the optional name.</p> <div class="language-Swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// create an optional Int</span>
<span class="token keyword">var</span> optionalInt<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span> 

<span class="token comment">// Forced unwrapping: up to the developer to make sure the value is not nil</span>
<span class="token comment">// standard long form nil check, never force unwrap an optional that’s nil</span>
<span class="token keyword">if</span> optionalInt <span class="token operator">!=</span> <span class="token nil constant">nil</span> <span class="token punctuation">{</span> 
    <span class="token comment">// the ! allows us to pull out the value in an optional type</span>
    <span class="token keyword">var</span> unwrappedInt <span class="token operator">=</span> optionalInt<span class="token operator">!</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="optional-binding"><a href="#optional-binding" class="header-anchor">#</a> Optional Binding</h3> <p>A less verbose way to unwrap the value in an optional.  Optional binding provides a method to assign the optional's value to a temporary constant or variable within an <code>if</code> or <code>while</code> statement.</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// create an optional Int</span>
<span class="token keyword">var</span> optionalInt<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span> 

<span class="token comment">// returns true if not nil then creates the unwrappedInt constant as a non-optional</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> unwrappedInt <span class="token operator">=</span> optionalInt <span class="token punctuation">{</span> 
    <span class="token function">print</span><span class="token punctuation">(</span>unwrappedInt<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;No value&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>When the condition is true (the optional is not nil) its value is assigned to the constant unwrappedInt. This constant is only available for use within the conditional body, this is its scope, it does not exist outside the conditional body. When the condition is false (the optional is nil) the conditional body is not executed.</p> <p>This limited scope allows for more concise naming:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> name<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Pat&quot;</span></span>

<span class="token keyword">if</span> <span class="token keyword">let</span> name <span class="token operator">=</span> name <span class="token punctuation">{</span> <span class="token comment">// scoping allows us to use the same name</span>
    <span class="token function">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// multiple if let statements are allowed:</span>
<span class="token keyword">if</span>  <span class="token keyword">let</span> month <span class="token operator">=</span> month<span class="token punctuation">,</span>
    <span class="token keyword">let</span> day <span class="token operator">=</span> day<span class="token punctuation">,</span>
    <span class="token keyword">let</span> year <span class="token operator">=</span> year <span class="token punctuation">{</span> 
     <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Happy Birthday!&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// only executes if there are no nil values</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>If the original optional is no longer needed after accessing its value, you can use the same name for the new constant/variable.</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Declare optional</span>
<span class="token keyword">let</span> number<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token number">420</span>

<span class="token comment">// reuse optional name in optional binding</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> number <span class="token operator">=</span> number <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;My number is: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">number</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// or shorten even more by removing duplicate name</span>
<span class="token comment">// this may be only available in 5.7</span>
<span class="token keyword">if</span> <span class="token keyword">let</span> number <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;My number is: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">number</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="implicitly-unwrapped-optionals"><a href="#implicitly-unwrapped-optionals" class="header-anchor">#</a> Implicitly Unwrapped Optionals</h3> <p>Often, the certainty that an optional will always have a value is evident at declaration. Having to force un-wrap or use optional binding each time an optional is accessed can be time consuming so implicitly unwrapping an optional removes the requirement to check for nil. This can be accomplished by replacing <code>?</code> with <code>!</code> when declaring the optional.</p> <p>Implicitly unwrapped optionals are normal optionals but can be used like non-optional values.</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> possibleNumber<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token number">420</span>

<span class="token comment">// no need to force unwrap or use optional binding</span>
<span class="token keyword">var</span> newNumber <span class="token operator">=</span> possibleNumber
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="guard"><a href="#guard" class="header-anchor">#</a> Guard</h3> <p>Similar to an if-else statement, <code>guard</code> statements control execution flow by testing if a condition is true or false. Unlike an if statement though, <code>guard</code> always has an else clause where the code it contains is executed if the condition isn't true and control flow is transferred to the code containing the <code>guard</code> statement. When true, execution continues after the closing brace of the <code>guard</code> statement.  You can use <code>guard let</code> to unwrap optionals at the start of a function, and return from the function if the optional is nil:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// inside a function body</span>
<span class="token keyword">func</span> <span class="token function-definition function">checkName</span><span class="token punctuation">(</span>userName<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">guard</span> <span class="token keyword">let</span> name <span class="token operator">=</span> userName <span class="token keyword">else</span> <span class="token punctuation">{</span>
         <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;name is nil&quot;</span></span><span class="token punctuation">)</span>

        <span class="token comment">// returns if userName is nil</span>
        <span class="token keyword">return</span> 
    <span class="token punctuation">}</span>

    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;name was not nil&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// the constant name is scoped for this function</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="nil-coalescing-operator"><a href="#nil-coalescing-operator" class="header-anchor">#</a> Nil-coalescing Operator</h3> <p>Another method for checking optionals is to use the nil-coalescing operator <code>??</code>. it will check whether an optional contains a value or not. If there is a value, it unwraps and returns it. Otherwise it returns a default value you provide in code. For example:</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> middleName<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>  
<span class="token keyword">let</span> defaultName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Raya&quot;</span></span>
<span class="token keyword">let</span> returnedName <span class="token operator">=</span> middleName <span class="token operator">??</span> defaultName
<span class="token function">print</span><span class="token punctuation">(</span>returnedName<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="see-also"><a href="#see-also" class="header-anchor">#</a> See Also</h2> <p><a href="https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html#ID525" target="_blank" rel="noopener noreferrer">Early Exit — The Swift Programming Language (Swift 5.7)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html#ID330" target="_blank" rel="noopener noreferrer">Optionals — The Swift Programming Language (Swift 5.7)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.swift.org/swift-book/LanguageGuide/BasicOperators.html#ID72" target="_blank" rel="noopener noreferrer">Nil-Coalescing Operator
— The Swift Programming Language (Swift 5.7)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://app.pluralsight.com/course-player?clipId=987e8f42-09a6-4ad0-b313-93f26ab082f2" target="_blank" rel="noopener noreferrer">Swift Fundamentals - Optionals - An Introduction <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Pluralsight</span><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://app.pluralsight.com/course-player?clipId=5ca834db-075b-4290-9f87-1610b838df6f" target="_blank" rel="noopener noreferrer">Swift Fundamentals - Unwrapping Your Optionals <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Pluralsight</span><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/21/2022, 3:59:47 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/f2022/modules/swift-fundamentals-1/swift-strings.html" class="prev">
        2.5 Working with Swift Strings
      </a></span> <span class="next"><a href="/f2022/modules/fundamentals-2/functions.html">
        3.2 Functions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/f2022/assets/js/app.d25dfab8.js" defer></script><script src="/f2022/assets/js/2.1c3a28c6.js" defer></script><script src="/f2022/assets/js/23.73b91711.js" defer></script><script src="/f2022/assets/js/7.21de6641.js" defer></script>
  </body>
</html>
